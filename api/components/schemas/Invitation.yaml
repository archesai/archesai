# yaml-language-server: $schema=https://json-schema.org/draft/2020-12/schema
description: Schema for Invitation entity
x-codegen:
  repository:
    operations: [create, read, update, delete, list]
    indices: [organizationId, email, inviterId]
    additional_methods:
      - name: ListByOrganization
        params: [organizationId]
        returns: multiple
      - name: GetByEmail
        params: [email, organizationId]
        returns: single
      - name: ListByInviter
        params: [inviterId]
        returns: multiple
allOf:
  - $ref: ./Base.yaml
  - type: object
    properties:
      email:
        description: The email of the invitated user
        type: string
        example: example-string
        minLength: 1
      expiresAt:
        description: The date and time when the invitation expires
        type: string
        minLength: 1
        example: example-string
      inviterId:
        allOf:
          - $ref: ./UUID.yaml
      organizationId:
        allOf:
          - $ref: ./UUID.yaml
      role:
        description: The role of the invitation
        type: string
        enum:
          - admin
          - owner
          - member
        example: admin
        minLength: 1
      status:
        description: The status of the invitation, e.g., pending, accepted, declined
        type: string
        minLength: 1
        example: example-string
    required:
      - email
      - expiresAt
      - inviterId
      - organizationId
      - role
      - status
    additionalProperties: false
