title: Organization
description: Schema for Organization entity
x-codegen:
  schemaType: entity
  repository:
    operations:
      - create
      - read
      - update
      - delete
      - list
    excludeFromUpdate:
      - Slug
      - StripeCustomerIdentifier
    indices:
      - slug
      - stripeCustomerIdentifier
    additionalMethods:
      - name: GetOrganizationBySlug
        params:
          - name: slug
            type: string
        returns: single
      - name: GetOrganizationByStripeCustomerID
        params:
          - name: stripeCustomerIdentifier
            type: string
        returns: single
allOf:
  - $ref: ./Base.yaml
  - type: object
    properties:
      name:
        description: The organization's display name
        type: string
        minLength: 1
        maxLength: 255
        example: Acme Corporation
        pattern: ^[\w\s\-.,!?()@#+/'&]+$
      slug:
        description: URL-friendly unique identifier for the organization
        type: string
        pattern: ^[a-z0-9]+(?:-[a-z0-9]+)*$
        minLength: 3
        maxLength: 50
        example: acme-corp
      logo:
        description: The organization's logo URL
        type: [string, 'null']
        format: uri
        minLength: 1
        example: https://example.com/org-logo.png
        maxLength: 2048
      billingEmail:
        description: Email address for billing communications
        type: [string, 'null']
        format: email
        minLength: 5
        example: billing@acme.com
        maxLength: 255
      plan:
        description: The current subscription plan
        type: string
        enum:
          - FREE
          - BASIC
          - STANDARD
          - PREMIUM
          - UNLIMITED
        default: FREE
        example: STANDARD
      credits:
        description: Available credits for this organization
        type: integer
        format: int32
        minimum: 0
        maximum: 2147483647
        default: 0
        example: 1000
      stripeCustomerIdentifier:
        description: Stripe customer identifier
        type: string
        minLength: 1
        example: cus_1234567890
        x-sensitive: true
        maxLength: 255
        pattern: ^cus_[a-zA-Z0-9]+$
    required:
      - name
      - slug
      - plan
      - credits
      - stripeCustomerIdentifier
      - logo
      - billingEmail
unevaluatedProperties: false
