# yaml-language-server: $schema=https://json-schema.org/draft-07/schema
description: Schema for Artifact entity
x-codegen:
  domain: artifacts
  repository:
    operations: [create, read, update, delete, list]
    indices: [organizationID, producerID]
    additional_methods:
      - name: ListByOrganization
        params: [organizationID]
        returns: multiple
      - name: ListByProducer
        params: [producerID]
        returns: multiple
allOf:
  - $ref: ./Base.yaml
  - type: object
    properties:
      credits:
        description: >-
          The number of credits required to access this artifact. This is used for
          metering and billing purposes.
        type: integer
        format: int32
        example: 42
      description:
        description: The artifact's description
        type: string
        example: Example description text
        minLength: 1
      mimeType:
        description: The MIME type of the artifact, e.g. image/png
        type: string
        minLength: 1
        example: example-string
      name:
        description: The name of the artifact, used for display purposes
        type: string
        example: Example Name
        minLength: 1
      organizationID:
        description: The organization that owns this artifact
        type: string
        format: uuid
        example: 550e8400-e29b-41d4-a716-446655440000
        minLength: 36
      previewImage:
        description: >-
          The URL of the preview image for this artifact. This is used for
          displaying a thumbnail in the UI.
        type: string
        example: example-string
        minLength: 1
      producerID:
        description: The ID of the entity that produced this artifact
        type: string
        format: uuid
        example: 550e8400-e29b-41d4-a716-446655440000
        minLength: 36
      text:
        description: The artifact text
        type: string
        example: example-string
        minLength: 1
    required:
      - credits
      - mimeType
      - organizationID
unevaluatedProperties: false
