# yaml-language-server: $schema=./xcodegen/JSONSchemaDraft7Extended.yaml
title: Member
description: Schema for Member entity
x-codegen:
  schemaType: entity
  repository:
    operations: [create, read, update, delete, list]
    indices: [organizationID, userID]
    excludeFromUpdate:
      - OrganizationID
      - UserID
    additional_methods:
      - name: ListMembersByOrganization
        params: [organizationID]
        returns: multiple
      - name: ListMembersByUser
        params: [userID]
        returns: multiple
      - name: GetMemberByUserAndOrganization
        params: [userID, organizationID]
        returns: single
allOf:
  - $ref: ./Base.yaml
  - type: object
    properties:
      organizationID:
        description: The organization this member belongs to
        type: string
        format: uuid
        example: 550e8400-e29b-41d4-a716-446655440000
        minLength: 36
      role:
        description: The role of the member
        type: string
        enum:
          - admin
          - owner
          - basic
        example: admin
      userID:
        description: The user who is a member of the organization
        type: string
        format: uuid
        example: 550e8400-e29b-41d4-a716-446655440000
        minLength: 36
    required:
      - organizationID
      - role
      - userID
unevaluatedProperties: false
