get:
  operationId: ListExecutors
  summary: List executors
  tags:
    - Executor
  description: List custom executors for the organization
  parameters:
    - $ref: ../components/parameters/ExecutorsFilter.yaml
    - $ref: ../../../../apis/base/api/components/parameters/PageQuery.yaml
    - $ref: ../components/parameters/ExecutorsSort.yaml
  security:
    - bearerAuth: []
  responses:
    '200':
      $ref: ../components/responses/ExecutorListResponse.yaml
    '400':
      $ref: ../../../../apis/base/api/components/responses/BadRequest.yaml
    '401':
      $ref: ../../../../apis/base/api/components/responses/Unauthorized.yaml
    '422':
      $ref: ../../../../apis/base/api/components/responses/UnprocessableEntity.yaml
    '429':
      $ref: ../../../../apis/base/api/components/responses/TooManyRequests.yaml
    '500':
      $ref: ../../../../apis/base/api/components/responses/InternalServerError.yaml
post:
  operationId: CreateExecutor
  summary: Create an executor
  tags:
    - Executor
  description: Create a custom executor
  requestBody:
    description: Executor creation request
    content:
      application/json:
        schema:
          type: object
          properties:
            name:
              description: The name of the executor
              type: string
              minLength: 1
              maxLength: 255
              pattern: ^[\w\s\-.,!?()@#+/']+$
              example: Custom Data Transformer
            description:
              description: The executor description
              type: string
              maxLength: 1000
              pattern: ^[\w\s\-.,!?()@#+/':;]*$
              example: Transforms data using custom business logic
            language:
              description: The programming language for the executor
              type: string
              enum: [nodejs, python, go]
              example: nodejs
            executeCode:
              description: The custom execute function code
              type: string
              maxLength: 100000
              pattern: ^[\s\S]*$
              example: |
                export async function executeFunction(input: unknown): Promise<any> {
                  return { result: "processed" };
                }
            dependencies:
              description: Dependencies configuration
              type: string
              maxLength: 50000
              pattern: ^[\s\S]*$
              example: |
                {
                  "dependencies": {
                    "lodash": "4.17.21"
                  }
                }
            schemaIn:
              description: Input JSON Schema
              type: string
              maxLength: 10000
              pattern: ^[\s\S]*$
              example: |
                {
                  "type": "object",
                  "properties": {
                    "value": {
                      "type": "number"
                    }
                  },
                  "required": ["value"]
                }
            schemaOut:
              description: Output JSON Schema
              type: string
              maxLength: 10000
              pattern: ^[\s\S]*$
              example: |
                {
                  "type": "object",
                  "properties": {
                    "doubled": {
                      "type": "number"
                    }
                  },
                  "required": ["doubled"]
                }
            extraFiles:
              description: Additional files to mount
              type: string
              maxLength: 100000
              pattern: ^[\s\S]*$
              example: |
                [
                  {
                    "path": "config/settings.json",
                    "content": "{\"key\": \"value\"}"
                  }
                ]
            timeout:
              description: Execution timeout in seconds
              type: integer
              format: int32
              minimum: 1
              maximum: 300
              default: 30
            memoryMB:
              description: Memory limit in megabytes
              type: integer
              format: int32
              minimum: 128
              maximum: 4096
              default: 256
            cpuShares:
              description: CPU shares (relative weight)
              type: integer
              format: int32
              minimum: 128
              maximum: 2048
              default: 512
            env:
              description: Environment variables as JSON array
              type: string
              maxLength: 10000
              pattern: ^[\s\S]*$
              example: '["NODE_ENV=production", "DEBUG=false"]'
          required:
            - name
            - description
            - language
            - executeCode
    required: true
  security:
    - bearerAuth: []
  responses:
    '201':
      $ref: ../components/responses/ExecutorResponse.yaml
    '400':
      $ref: ../../../../apis/base/api/components/responses/BadRequest.yaml
    '401':
      $ref: ../../../../apis/base/api/components/responses/Unauthorized.yaml
    '422':
      $ref: ../../../../apis/base/api/components/responses/UnprocessableEntity.yaml
    '429':
      $ref: ../../../../apis/base/api/components/responses/TooManyRequests.yaml
    '500':
      $ref: ../../../../apis/base/api/components/responses/InternalServerError.yaml
