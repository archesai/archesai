# Redocly CLI Configuration
# Documentation: https://redocly.com/docs/cli/configuration/

# API definitions to lint
apis:
  archesai@v0.0.0:
    root: api/openapi.yaml
    output: api/openapi.bundled.yaml

# Linting rules configuration
extends:
  - recommended-strict

rules:
  struct: error
  path-segment-plural:
    severity: error
    exceptions:
      - health
      - auth
      - config
      - login
      - register
      - logout
      - intelligence
      - password-reset
      - email-verification
      - email-change
      - request
      - verify
      - content
  spec-strict-refs: error
  operation-4xx-problem-details-rfc7807: error
  operation-description: error
  array-parameter-serialization: error
  boolean-parameter-prefixes: error
  no-invalid-parameter-examples: error
  parameter-description: error
  no-http-verbs-in-paths: error
  paths-kebab-case: error
  component-name-unique: error
  no-invalid-schema-examples: error
  request-mime-type:
    severity: error
    allowedValues:
      - application/json
  response-mime-type:
    severity: error
    allowedValues:
      - application/json
      - application/problem+json
  response-contains-header:
    severity: error
    names: [] # No required headers for now
  response-contains-property:
    severity: error
    names: [] # No required properties for now
  scalar-property-missing-example: error
  required-string-property-missing-min-length: error
  no-duplicated-tag-names: error
  operation-singular-tag: error
  operation-tag-defined: error
  tags-alphabetical: error

openapi:
  sortRequiredPropsFirst: true
  schemasExpansionLevel: 2
  onlyRequiredInSamples: false
  schemaDefinitionsTagName: 'Schemas'
