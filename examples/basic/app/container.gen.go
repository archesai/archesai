// Code generated by archesai. DO NOT EDIT.

package app

import (
	"github.com/archesai/archesai/pkg/database"
	"github.com/archesai/examples/basic/database/postgres/repositories"
	sqliterepos "github.com/archesai/examples/basic/database/sqlite/repositories"
)

// NewPorts creates Ports with database repositories.
func NewPorts(db *database.Database) *Ports {
	if db.IsSQLite() {
		sqlDB := db.SQLDB()
		return &Ports{
			TodoRepo: sqliterepos.NewSQLiteTodoRepository(sqlDB),
		}
	}

	pool := db.PgxPool()
	return &Ports{
		TodoRepo: repositories.NewPostgresTodoRepository(pool),
	}
}
