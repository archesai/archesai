openapi: 3.2.0
x-project-name: github.com/archesai/archesai/pkg/pipelines
info:
  title: Arches Pipelines API
  description: The Arches Pipelines API
  version: v0.0.0
tags:
  - name: Pipeline
    description: Pipeline management
  - name: Run
    description: Pipeline run management
  - name: Tool
    description: Tool management'
  - name: Health
    description: Health check operations
components:
  parameters:
    PipelinesFilter:
      in: query
      name: filter
      required: false
      style: deepObject
      explode: true
      schema:
        $ref: '#/components/schemas/FilterNode'
      description: Filter by field values
      example:
        type: eq
        field: organizationID
        value: 550e8400-e29b-41d4-a716-446655440000
    PipelinesSort:
      in: query
      name: sort
      required: false
      style: form
      explode: true
      schema:
        type: array
        maxItems: 10
        items:
          type: object
          required:
            - field
            - order
          properties:
            field:
              type: string
              enum:
                - createdAt
                - id
                - updatedAt
                - description
                - name
                - organizationID
              example: createdAt
            order:
              type: string
              enum:
                - asc
                - desc
              example: asc
      description: The sort parameter
      example:
        - field: createdAt
          order: desc
    RunsFilter:
      in: query
      name: filter
      required: false
      style: deepObject
      explode: true
      schema:
        $ref: '#/components/schemas/FilterNode'
      description: Filter by field values
      example:
        type: eq
        field: status
        value: COMPLETED
    RunsSort:
      in: query
      name: sort
      required: false
      style: form
      explode: true
      schema:
        type: array
        maxItems: 10
        items:
          type: object
          required:
            - field
            - order
          properties:
            field:
              type: string
              enum:
                - createdAt
                - id
                - updatedAt
                - completedAt
                - error
                - organizationID
                - pipelineID
                - progress
                - startedAt
                - status
                - toolID
              example: createdAt
            order:
              type: string
              enum:
                - asc
                - desc
              example: asc
      description: The sort parameter
      example:
        - field: createdAt
          order: desc
    ToolsFilter:
      in: query
      name: filter
      required: false
      style: deepObject
      explode: true
      schema:
        $ref: '#/components/schemas/FilterNode'
      description: Filter by field values
      example:
        type: eq
        field: inputMimeType
        value: application/json
    ToolsSort:
      in: query
      name: sort
      required: false
      style: form
      explode: true
      schema:
        type: array
        maxItems: 10
        items:
          type: object
          required:
            - field
            - order
          properties:
            field:
              type: string
              enum:
                - createdAt
                - id
                - updatedAt
                - description
                - inputMimeType
                - name
                - organizationID
                - outputMimeType
              example: createdAt
            order:
              type: string
              enum:
                - asc
                - desc
              example: asc
      description: The sort parameter
      example:
        - field: createdAt
          order: desc
    PageQuery:
      in: query
      name: page
      required: false
      style: form
      explode: true
      schema:
        $ref: '#/components/schemas/Page'
      description: The page parameter
      example:
        limit: 10
        offset: 0
    ResourceID:
      schema:
        $ref: '#/components/schemas/UUID'
      in: path
      name: id
      required: true
      description: The unique identifier of the resource.
  responses:
    PipelineExecutionPlanResponse:
      description: Execution plan retrieved successfully
      content:
        application/json:
          schema:
            type: object
            properties:
              data:
                type: object
                properties:
                  pipelineID:
                    description: UUID identifier
                    type: string
                    format: uuid
                    example: 550e8400-e29b-41d4-a716-446655440000
                    minLength: 36
                    maxLength: 36
                  levels:
                    type: array
                    maxItems: 1000
                    items:
                      type: object
                      properties:
                        level:
                          type: integer
                          format: int32
                          minimum: 0
                          maximum: 2147483647
                          description: Execution level (0-based)
                          example: 0
                        steps:
                          type: array
                          maxItems: 10000
                          items:
                            type: string
                            format: uuid
                            example: 550e8400-e29b-41d4-a716-446655440000
                            minLength: 36
                            description: Step IDs that can run in parallel at this level
                            maxLength: 36
                      required:
                        - level
                        - steps
                  totalSteps:
                    type: integer
                    format: int32
                    minimum: 0
                    maximum: 2147483647
                    description: Total number of steps in the pipeline
                    example: 5
                  isValid:
                    type: boolean
                    description: Whether the pipeline DAG is valid (no cycles)
                    example: true
                  estimatedDuration:
                    type: integer
                    format: int32
                    minimum: 0
                    maximum: 2147483647
                    description: Estimated execution time in seconds
                    example: 3600
                required:
                  - pipelineID
                  - levels
                  - totalSteps
                  - isValid
            required:
              - data
            additionalProperties: false
      headers:
        X-RateLimit-Limit:
          $ref: '#/components/headers/RateLimitLimit'
        X-RateLimit-Remaining:
          $ref: '#/components/headers/RateLimitRemaining'
        X-RateLimit-Reset:
          $ref: '#/components/headers/RateLimitReset'
    PipelineListResponse:
      description: Pipelines retrieved successfully
      content:
        application/json:
          schema:
            type: object
            properties:
              data:
                type: array
                maxItems: 10000
                items:
                  $ref: '#/components/schemas/Pipeline'
              meta:
                $ref: '#/components/schemas/PaginationMeta'
            required:
              - data
              - meta
            additionalProperties: false
          example:
            data:
              - id: 550e8400-e29b-41d4-a716-446655440000
                organizationID: 550e8400-e29b-41d4-a716-446655440001
                name: Data Processing Pipeline
                description: Processes incoming data through validation, transformation, and storage steps
                createdAt: '2024-01-15T09:30:00Z'
                updatedAt: '2024-01-15T09:30:00Z'
            meta:
              total: 1
      headers:
        X-RateLimit-Limit:
          $ref: '#/components/headers/RateLimitLimit'
        X-RateLimit-Remaining:
          $ref: '#/components/headers/RateLimitRemaining'
        X-RateLimit-Reset:
          $ref: '#/components/headers/RateLimitReset'
    PipelineResponse:
      description: Pipeline retrieved successfully
      content:
        application/json:
          schema:
            type: object
            properties:
              data:
                $ref: '#/components/schemas/Pipeline'
            required:
              - data
            additionalProperties: false
          example:
            data:
              id: 550e8400-e29b-41d4-a716-446655440000
              organizationID: 550e8400-e29b-41d4-a716-446655440001
              name: Data Processing Pipeline
              description: Processes incoming data through validation, transformation, and storage steps
              createdAt: '2024-01-15T09:30:00Z'
              updatedAt: '2024-01-15T09:30:00Z'
      headers:
        X-RateLimit-Limit:
          $ref: '#/components/headers/RateLimitLimit'
        X-RateLimit-Remaining:
          $ref: '#/components/headers/RateLimitRemaining'
        X-RateLimit-Reset:
          $ref: '#/components/headers/RateLimitReset'
    PipelineStepListResponse:
      description: Pipeline steps retrieved successfully
      content:
        application/json:
          schema:
            type: object
            properties:
              data:
                type: array
                maxItems: 10000
                items:
                  $ref: '#/components/schemas/PipelineStep'
            required:
              - data
            additionalProperties: false
          example:
            data:
              - id: 550e8400-e29b-41d4-a716-446655440010
                pipelineID: 550e8400-e29b-41d4-a716-446655440000
                toolID: 550e8400-e29b-41d4-a716-446655440011
                createdAt: '2024-01-15T09:30:00Z'
                updatedAt: '2024-01-15T09:30:00Z'
      headers:
        X-RateLimit-Limit:
          $ref: '#/components/headers/RateLimitLimit'
        X-RateLimit-Remaining:
          $ref: '#/components/headers/RateLimitRemaining'
        X-RateLimit-Reset:
          $ref: '#/components/headers/RateLimitReset'
    PipelineStepResponse:
      description: Pipeline step response
      content:
        application/json:
          schema:
            type: object
            properties:
              data:
                $ref: '#/components/schemas/PipelineStep'
            required:
              - data
            additionalProperties: false
      headers:
        X-RateLimit-Limit:
          $ref: '#/components/headers/RateLimitLimit'
        X-RateLimit-Remaining:
          $ref: '#/components/headers/RateLimitRemaining'
        X-RateLimit-Reset:
          $ref: '#/components/headers/RateLimitReset'
    RunListResponse:
      description: Runs retrieved successfully
      content:
        application/json:
          schema:
            type: object
            properties:
              data:
                type: array
                maxItems: 10000
                items:
                  $ref: '#/components/schemas/Run'
              meta:
                $ref: '#/components/schemas/PaginationMeta'
            required:
              - data
              - meta
            additionalProperties: false
      headers:
        X-RateLimit-Limit:
          $ref: '#/components/headers/RateLimitLimit'
        X-RateLimit-Remaining:
          $ref: '#/components/headers/RateLimitRemaining'
        X-RateLimit-Reset:
          $ref: '#/components/headers/RateLimitReset'
    RunResponse:
      description: Run retrieved successfully
      content:
        application/json:
          schema:
            type: object
            properties:
              data:
                $ref: '#/components/schemas/Run'
            required:
              - data
            additionalProperties: false
      headers:
        X-RateLimit-Limit:
          $ref: '#/components/headers/RateLimitLimit'
        X-RateLimit-Remaining:
          $ref: '#/components/headers/RateLimitRemaining'
        X-RateLimit-Reset:
          $ref: '#/components/headers/RateLimitReset'
    ToolListResponse:
      description: Tools retrieved successfully
      content:
        application/json:
          schema:
            type: object
            properties:
              data:
                type: array
                maxItems: 10000
                items:
                  $ref: '#/components/schemas/Tool'
              meta:
                $ref: '#/components/schemas/PaginationMeta'
            required:
              - data
              - meta
            additionalProperties: false
      headers:
        X-RateLimit-Limit:
          $ref: '#/components/headers/RateLimitLimit'
        X-RateLimit-Remaining:
          $ref: '#/components/headers/RateLimitRemaining'
        X-RateLimit-Reset:
          $ref: '#/components/headers/RateLimitReset'
    ToolResponse:
      description: Tool retrieved successfully
      content:
        application/json:
          schema:
            type: object
            properties:
              data:
                $ref: '#/components/schemas/Tool'
            required:
              - data
            additionalProperties: false
      headers:
        X-RateLimit-Limit:
          $ref: '#/components/headers/RateLimitLimit'
        X-RateLimit-Remaining:
          $ref: '#/components/headers/RateLimitRemaining'
        X-RateLimit-Reset:
          $ref: '#/components/headers/RateLimitReset'
    BadRequest:
      description: 400 Bad Request
      content:
        application/problem+json:
          schema:
            $ref: '#/components/schemas/Problem'
      headers:
        X-RateLimit-Limit:
          $ref: '#/components/headers/RateLimitLimit'
        X-RateLimit-Remaining:
          $ref: '#/components/headers/RateLimitRemaining'
        X-RateLimit-Reset:
          $ref: '#/components/headers/RateLimitReset'
    Conflict:
      description: 409 Conflict
      content:
        application/problem+json:
          schema:
            $ref: '#/components/schemas/Problem'
      headers:
        X-RateLimit-Limit:
          $ref: '#/components/headers/RateLimitLimit'
        X-RateLimit-Remaining:
          $ref: '#/components/headers/RateLimitRemaining'
        X-RateLimit-Reset:
          $ref: '#/components/headers/RateLimitReset'
    HealthResponse:
      description: Health status retrieved successfully
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Health'
      headers:
        X-RateLimit-Limit:
          $ref: '#/components/headers/RateLimitLimit'
        X-RateLimit-Remaining:
          $ref: '#/components/headers/RateLimitRemaining'
        X-RateLimit-Reset:
          $ref: '#/components/headers/RateLimitReset'
    InternalServerError:
      description: Internal server error
      content:
        application/problem+json:
          schema:
            $ref: '#/components/schemas/Problem'
      headers:
        X-RateLimit-Limit:
          $ref: '#/components/headers/RateLimitLimit'
        X-RateLimit-Remaining:
          $ref: '#/components/headers/RateLimitRemaining'
        X-RateLimit-Reset:
          $ref: '#/components/headers/RateLimitReset'
    NoContent:
      description: 204 No Content
      headers:
        X-RateLimit-Limit:
          $ref: '#/components/headers/RateLimitLimit'
        X-RateLimit-Remaining:
          $ref: '#/components/headers/RateLimitRemaining'
        X-RateLimit-Reset:
          $ref: '#/components/headers/RateLimitReset'
    NotFound:
      description: 404 Not Found
      content:
        application/problem+json:
          schema:
            $ref: '#/components/schemas/Problem'
      headers:
        X-RateLimit-Limit:
          $ref: '#/components/headers/RateLimitLimit'
        X-RateLimit-Remaining:
          $ref: '#/components/headers/RateLimitRemaining'
        X-RateLimit-Reset:
          $ref: '#/components/headers/RateLimitReset'
    TooManyRequests:
      description: Too many requests - rate limit exceeded
      content:
        application/problem+json:
          schema:
            $ref: '#/components/schemas/Problem'
      headers:
        X-RateLimit-Limit:
          $ref: '#/components/headers/RateLimitLimit'
        X-RateLimit-Remaining:
          $ref: '#/components/headers/RateLimitRemaining'
        X-RateLimit-Reset:
          $ref: '#/components/headers/RateLimitReset'
        Retry-After:
          $ref: '#/components/headers/RetryAfter'
    Unauthorized:
      description: 401 Unauthorized
      content:
        application/problem+json:
          schema:
            $ref: '#/components/schemas/Problem'
      headers:
        X-RateLimit-Limit:
          $ref: '#/components/headers/RateLimitLimit'
        X-RateLimit-Remaining:
          $ref: '#/components/headers/RateLimitRemaining'
        X-RateLimit-Reset:
          $ref: '#/components/headers/RateLimitReset'
    UnprocessableEntity:
      description: 422 Unprocessable Entity
      content:
        application/problem+json:
          schema:
            $ref: '#/components/schemas/Problem'
      headers:
        X-RateLimit-Limit:
          $ref: '#/components/headers/RateLimitLimit'
        X-RateLimit-Remaining:
          $ref: '#/components/headers/RateLimitRemaining'
        X-RateLimit-Reset:
          $ref: '#/components/headers/RateLimitReset'
  schemas:
    Pipeline:
      description: Schema for Pipeline entity
      title: Pipeline
      x-codegen-schema-type: entity
      x-codegen:
        repository:
          excludeFromUpdate:
            - OrganizationID
          indices:
            - organizationID
          relations:
            - field: organizationID
              references: organization
              onDelete: CASCADE
              onUpdate: CASCADE
          additionalMethods:
            - name: ListPipelinesByOrganization
              params:
                - name: organizationID
                  type: string
                  format: uuid
                  maxLength: 36
              returns: multiple
      x-internal: pipelines
      allOf:
        - $ref: '#/components/schemas/Base'
        - type: object
          properties:
            organizationID:
              description: The organization identifier
              type: string
              format: uuid
              example: 550e8400-e29b-41d4-a716-446655440000
              minLength: 36
              maxLength: 36
            name:
              description: The pipeline's display name
              type:
                - string
                - 'null'
              minLength: 1
              maxLength: 255
              example: Data Processing Pipeline
              pattern: ^[\w\s\-.,!?()@#+/']+$
            description:
              description: Detailed description of the pipeline's purpose
              type:
                - string
                - 'null'
              maxLength: 1000
              pattern: ^[\w\s\-.,!?()@#+/':;]+$
              example: Processes incoming data through validation, transformation, and storage steps
          required:
            - organizationID
            - name
            - description
      unevaluatedProperties: false
    PipelineStep:
      x-codegen-schema-type: entity
      x-codegen:
        repository:
          excludeFromCreate:
            - CreatedAt
            - UpdatedAt
          excludeFromUpdate:
            - CreatedAt
            - UpdatedAt
            - PipelineID
      x-internal: pipelines
      title: PipelineStep
      description: Schema for PipelineStep entity
      allOf:
        - $ref: '#/components/schemas/Base'
        - type: object
          properties:
            pipelineID:
              description: The pipeline this step belongs to
              type: string
              format: uuid
              example: 550e8400-e29b-41d4-a716-446655440000
              minLength: 36
              maxLength: 36
            toolID:
              description: The tool used in this step
              type: string
              format: uuid
              example: 550e8400-e29b-41d4-a716-446655440000
              minLength: 36
              maxLength: 36
          required:
            - pipelineID
            - toolID
      unevaluatedProperties: false
    Run:
      description: Schema for Run entity
      title: Run
      x-codegen-schema-type: entity
      x-codegen:
        repository:
          indices:
            - pipelineID
            - organizationID
            - toolID
          excludeFromCreate:
            - CompletedAt
            - Error
            - StartedAt
          excludeFromUpdate:
            - OrganizationID
          relations:
            - field: organizationID
              references: organization
              onDelete: CASCADE
              onUpdate: CASCADE
            - field: pipelineID
              references: pipeline
              onDelete: SET_NULL
              onUpdate: CASCADE
            - field: toolID
              references: tool
              onDelete: SET_NULL
              onUpdate: CASCADE
          additionalMethods:
            - name: ListRunsByPipeline
              params:
                - name: pipelineID
                  type: string
                  format: uuid
                  maxLength: 36
              returns: multiple
            - name: ListRunsByOrganization
              params:
                - name: organizationID
                  type: string
                  format: uuid
                  maxLength: 36
              returns: multiple
            - name: ListRunsByTool
              params:
                - name: toolID
                  type: string
                  format: uuid
                  maxLength: 36
              returns: multiple
      x-internal: pipelines
      allOf:
        - $ref: '#/components/schemas/Base'
        - type: object
          properties:
            completedAt:
              description: The timestamp when the run completed
              type:
                - string
                - 'null'
              format: date-time
              example: '2024-01-15T09:30:00Z'
              minLength: 1
              maxLength: 255
            error:
              description: The error message
              type:
                - string
                - 'null'
              example: Pipeline execution failed at step 3
              minLength: 1
              maxLength: 255
              pattern: ^[\w\s\-.,!?()@#+/':;]+$
            organizationID:
              description: The organization this run belongs to
              type: string
              format: uuid
              example: 550e8400-e29b-41d4-a716-446655440000
              minLength: 36
              maxLength: 36
            pipelineID:
              description: The pipeline this run is executing
              type: string
              format: uuid
              example: 550e8400-e29b-41d4-a716-446655440000
              minLength: 36
              maxLength: 36
            progress:
              description: The percent progress of the run (0-100)
              type: integer
              format: int32
              minimum: 0
              default: 0
              maximum: 100
              example: 75
            startedAt:
              description: The timestamp when the run started
              type:
                - string
                - 'null'
              format: date-time
              example: '2024-01-15T09:30:00Z'
              minLength: 1
              maxLength: 255
            status:
              type: string
              enum:
                - COMPLETED
                - FAILED
                - PROCESSING
                - QUEUED
              example: COMPLETED
              default: QUEUED
            toolID:
              description: The tool being used in this run
              type: string
              format: uuid
              example: 550e8400-e29b-41d4-a716-446655440000
              minLength: 36
              maxLength: 36
          required:
            - organizationID
            - pipelineID
            - progress
            - status
            - toolID
            - completedAt
            - error
            - startedAt
      unevaluatedProperties: false
    Tool:
      description: Schema for Tool entity
      title: Tool
      x-codegen-schema-type: entity
      x-codegen:
        repository:
          excludeFromUpdate:
            - OrganizationID
          indices:
            - organizationID
          relations:
            - field: organizationID
              references: organization
              onDelete: CASCADE
              onUpdate: CASCADE
          additionalMethods:
            - name: ListToolsByOrganization
              params:
                - name: organizationID
                  type: string
                  format: uuid
                  maxLength: 36
              returns: multiple
      x-internal: pipelines
      allOf:
        - $ref: '#/components/schemas/Base'
        - type: object
          properties:
            description:
              description: The tool description
              type: string
              minLength: 1
              example: Example description text
              maxLength: 1000
              pattern: ^[\w\s\-.,!?()@#+/':;]+$
            inputMimeType:
              description: The MIME type of the input for the tool, e.g. text/plain
              type: string
              minLength: 1
              default: application/octet-stream
              example: text/plain
              maxLength: 255
              pattern: ^[a-z]+/[a-z0-9\+\-\.]+$
            name:
              description: The name of the tool
              type: string
              minLength: 1
              example: Data Transformer
              maxLength: 255
              pattern: ^[\w\s\-.,!?()@#+/']+$
            organizationID:
              description: The organization that owns this tool
              type: string
              format: uuid
              example: 550e8400-e29b-41d4-a716-446655440000
              minLength: 36
              maxLength: 36
            outputMimeType:
              description: The MIME type of the output for the tool, e.g. text/plain
              type: string
              minLength: 1
              default: application/octet-stream
              example: application/json
              maxLength: 255
              pattern: ^[a-z]+/[a-z0-9\+\-\.]+$
          required:
            - description
            - inputMimeType
            - name
            - organizationID
            - outputMimeType
      unevaluatedProperties: false
    Base:
      title: Base
      description: Base schema for all entities with common fields
      x-internal: server
      type: object
      properties:
        id:
          description: Unique identifier for the resource
          type: string
          format: uuid
          example: 550e8400-e29b-41d4-a716-446655440000
          minLength: 36
          maxLength: 36
        createdAt:
          description: The date and time when the resource was created
          type: string
          format: date-time
          example: '2024-01-15T09:30:00Z'
          minLength: 1
          maxLength: 255
        updatedAt:
          description: The date and time when the resource was last updated
          type: string
          format: date-time
          example: '2024-01-15T10:45:00Z'
          minLength: 1
          maxLength: 255
      required:
        - id
        - createdAt
        - updatedAt
    FilterNode:
      title: FilterNode
      description: A recursive filter node that can be a condition or group
      x-internal: server
      x-codegen-schema-type: valueobject
      type: object
      properties:
        type:
          type: string
          enum:
            - and
            - or
            - eq
            - ne
            - gt
            - gte
            - lt
            - lte
            - contains
            - startsWith
            - endsWith
          description: The type of filter operation
          example: eq
        field:
          type: string
          description: The field to filter on (for leaf conditions)
          example: name
          minLength: 1
          maxLength: 255
          pattern: ^[a-zA-Z_][a-zA-Z0-9_]*$
        value:
          description: The value to compare against (for leaf conditions)
          oneOf:
            - type: string
              maxLength: 1000
              pattern: ^[\w\s\-.,!?()@#+/':;]+$
            - type: integer
              format: int64
              minimum: -9223372036854776000
              maximum: 9223372036854776000
            - type: boolean
          example: example-value
      required:
        - type
    Health:
      title: Health
      description: Health check response
      x-internal: server
      x-codegen-schema-type: valueobject
      type: object
      properties:
        services:
          type: object
          properties:
            database:
              type: string
              example: healthy
              enum:
                - healthy
                - unhealthy
                - degraded
            email:
              type: string
              example: healthy
              enum:
                - healthy
                - unhealthy
                - degraded
            redis:
              type: string
              example: healthy
              enum:
                - healthy
                - unhealthy
                - degraded
          required:
            - database
            - email
            - redis
          additionalProperties: false
        timestamp:
          type: string
          format: date-time
          maxLength: 64
          example: '2024-01-15T09:30:00Z'
        uptime:
          description: System uptime in seconds
          type: integer
          format: int64
          minimum: 0
          maximum: 9223372036854776000
          example: 86400
      required:
        - services
        - timestamp
        - uptime
      additionalProperties: false
    Page:
      description: Pagination parameters (limit & offset)
      x-internal: server
      type: object
      title: Page
      additionalProperties: false
      properties:
        limit:
          description: Maximum number of items to return
          type: integer
          format: int32
          minimum: 1
          default: 10
          maximum: 100
          example: 10
        offset:
          description: Number of items to skip before starting to collect the result set
          type: integer
          format: int32
          minimum: 0
          default: 0
          maximum: 9007199254740991
          example: 0
    PaginationMeta:
      description: Pagination metadata
      title: PaginationMeta
      type: object
      properties:
        total:
          description: Total number of items in the collection
          type: integer
          format: int32
          minimum: 0
          maximum: 2147483647
          example: 42
      required:
        - total
      additionalProperties: false
      x-codegen-schema-type: valueobject
    Problem:
      title: Problem
      description: RFC 7807 (Problem Details) compliant error response
      x-internal: server
      type: object
      additionalProperties: false
      required:
        - status
        - title
      properties:
        status:
          type: integer
          format: int32
          description: HTTP status code
          minimum: 100
          maximum: 599
          example: 400
        type:
          type: string
          format: uri
          description: URI identifying the problem type
          default: about:blank
          example: https://api.example.com/errors/validation-failed
          minLength: 1
          maxLength: 2048
        title:
          type: string
          description: Short, human-readable summary
          example: Validation Failed
          minLength: 1
          maxLength: 255
          pattern: ^[\w\s\-.,!?()]+$
        detail:
          type: string
          description: Human-readable explanation specific to this occurrence
          example: The request body contains invalid fields
          minLength: 1
          maxLength: 255
          pattern: ^[\w\s\-.,!?()]+$
        instance:
          type: string
          format: uri
          description: URI identifying the specific occurrence
          example: https://api.example.com/auth/users/123
          maxLength: 2048
    UUID:
      description: UUID identifier
      x-internal: server
      type: string
      format: uuid
      example: 550e8400-e29b-41d4-a716-446655440000
      minLength: 36
      maxLength: 36
  headers:
    RateLimitLimit:
      description: The maximum number of requests allowed per time window
      schema:
        type: integer
        example: 1000
        format: int32
        minimum: 1
        maximum: 1000000
      example: 1000
    RateLimitRemaining:
      description: The number of requests remaining in the current time window
      schema:
        type: integer
        example: 999
        format: int32
        minimum: 0
        maximum: 1000000
      example: 999
    RateLimitReset:
      description: The time at which the current rate limit window resets (Unix timestamp)
      schema:
        type: integer
        example: 1640995200
        format: int64
        minimum: 0
        maximum: 9223372036854776000
      example: 1640995200
    RetryAfter:
      description: Number of seconds to wait before making a new request
      schema:
        type: integer
        example: 60
        format: int32
        minimum: 1
        maximum: 3600
      example: 60
  pathItems:
    pipelines_id_execution-plans:
      get:
        x-internal: pipelines
        x-codegen-custom-handler: true
        operationId: GetPipelineExecutionPlan
        summary: Get execution plan for a pipeline
        tags:
          - Pipeline
        description: Get the DAG execution plan showing which steps can run in parallel
        parameters:
          - $ref: '#/components/parameters/ResourceID'
        security:
          - bearerAuth: []
        responses:
          '200':
            $ref: '#/components/responses/PipelineExecutionPlanResponse'
          '400':
            $ref: '#/components/responses/BadRequest'
          '404':
            $ref: '#/components/responses/NotFound'
          '401':
            $ref: '#/components/responses/Unauthorized'
          '422':
            $ref: '#/components/responses/UnprocessableEntity'
          '429':
            $ref: '#/components/responses/TooManyRequests'
          '500':
            $ref: '#/components/responses/InternalServerError'
      post:
        x-internal: pipelines
        x-codegen-custom-handler: true
        operationId: ValidatePipelineExecutionPlan
        summary: Validate a pipeline configuration
        tags:
          - Pipeline
        description: Validate that a pipeline can be executed without issues
        parameters:
          - $ref: '#/components/parameters/ResourceID'
        security:
          - bearerAuth: []
        responses:
          '200':
            $ref: '#/components/responses/PipelineResponse'
          '400':
            $ref: '#/components/responses/BadRequest'
          '404':
            $ref: '#/components/responses/NotFound'
          '401':
            $ref: '#/components/responses/Unauthorized'
          '422':
            $ref: '#/components/responses/UnprocessableEntity'
          '429':
            $ref: '#/components/responses/TooManyRequests'
          '500':
            $ref: '#/components/responses/InternalServerError'
    pipelines_id_steps:
      get:
        x-internal: pipelines
        operationId: GetPipelineSteps
        x-codegen-custom-handler: true
        summary: Get all steps for a pipeline
        tags:
          - Pipeline
        description: Retrieve all steps and their dependencies for a pipeline
        parameters:
          - $ref: '#/components/parameters/ResourceID'
        security:
          - bearerAuth: []
        responses:
          '200':
            $ref: '#/components/responses/PipelineStepListResponse'
          '400':
            $ref: '#/components/responses/BadRequest'
          '401':
            $ref: '#/components/responses/Unauthorized'
          '404':
            $ref: '#/components/responses/NotFound'
          '422':
            $ref: '#/components/responses/UnprocessableEntity'
          '429':
            $ref: '#/components/responses/TooManyRequests'
          '500':
            $ref: '#/components/responses/InternalServerError'
      post:
        x-internal: pipelines
        x-codegen-custom-handler: true
        operationId: CreatePipelineStep
        summary: Add a step to a pipeline
        tags:
          - Pipeline
        description: Create a step in the pipeline
        parameters:
          - $ref: '#/components/parameters/ResourceID'
        requestBody:
          description: Pipeline step creation request
          content:
            application/json:
              schema:
                type: object
                properties:
                  toolID:
                    description: UUID identifier
                    type: string
                    format: uuid
                    example: 550e8400-e29b-41d4-a716-446655440000
                    minLength: 36
                    maxLength: 36
                  name:
                    description: Name of the step
                    type: string
                    minLength: 1
                    maxLength: 255
                    example: Validate Input Data
                    pattern: ^[\w\s\-.,!?()@#+/]*$
                  description:
                    description: Description of what this step does
                    type: string
                    maxLength: 1000
                    example: Validates the input data against the configured schema
                    pattern: ^[\w\s\-.,!?()@#+/]*$
                  position:
                    description: Position in the pipeline (for ordering)
                    type: integer
                    format: int32
                    minimum: 0
                    maximum: 2147483647
                    example: 1
                  dependencies:
                    description: IDs of steps this step depends on
                    type: array
                    maxItems: 1000
                    items:
                      description: UUID identifier
                      type: string
                      format: uuid
                      example: 550e8400-e29b-41d4-a716-446655440000
                      minLength: 36
                      maxLength: 36
                    example:
                      - 550e8400-e29b-41d4-a716-446655440001
                      - 450e8400-e29b-41d4-a716-446655440002
                required:
                  - toolID
                  - name
          required: true
        security:
          - bearerAuth: []
        responses:
          '201':
            $ref: '#/components/responses/PipelineStepResponse'
          '400':
            $ref: '#/components/responses/BadRequest'
          '404':
            $ref: '#/components/responses/NotFound'
          '401':
            $ref: '#/components/responses/Unauthorized'
          '422':
            $ref: '#/components/responses/UnprocessableEntity'
          '429':
            $ref: '#/components/responses/TooManyRequests'
          '500':
            $ref: '#/components/responses/InternalServerError'
    pipelines_id:
      get:
        x-internal: pipelines
        operationId: GetPipeline
        summary: Find a pipeline
        tags:
          - Pipeline
        description: Find a pipeline
        parameters:
          - $ref: '#/components/parameters/ResourceID'
        security:
          - bearerAuth: []
        responses:
          '200':
            $ref: '#/components/responses/PipelineResponse'
          '400':
            $ref: '#/components/responses/BadRequest'
          '401':
            $ref: '#/components/responses/Unauthorized'
          '404':
            $ref: '#/components/responses/NotFound'
          '422':
            $ref: '#/components/responses/UnprocessableEntity'
          '429':
            $ref: '#/components/responses/TooManyRequests'
          '500':
            $ref: '#/components/responses/InternalServerError'
      patch:
        x-internal: pipelines
        operationId: UpdatePipeline
        summary: Update a pipeline
        tags:
          - Pipeline
        description: Update a pipeline
        requestBody:
          description: Pipeline update data
          content:
            application/json:
              schema:
                type: object
                properties:
                  description:
                    description: The pipeline description
                    type: string
                    example: Example description text
                    maxLength: 1000
                    pattern: ^[\w\s\-.,!?()@#+/]*$
                  name:
                    description: The pipeline name
                    type: string
                    example: Example Name
                    maxLength: 255
                    pattern: ^[\w\s\-.,!?()@#+/]*$
        parameters:
          - $ref: '#/components/parameters/ResourceID'
        security:
          - bearerAuth: []
        responses:
          '200':
            $ref: '#/components/responses/PipelineResponse'
          '404':
            $ref: '#/components/responses/NotFound'
          '429':
            $ref: '#/components/responses/TooManyRequests'
          '500':
            $ref: '#/components/responses/InternalServerError'
          '400':
            $ref: '#/components/responses/BadRequest'
          '401':
            $ref: '#/components/responses/Unauthorized'
          '422':
            $ref: '#/components/responses/UnprocessableEntity'
      delete:
        x-internal: pipelines
        operationId: DeletePipeline
        summary: Delete a pipeline
        tags:
          - Pipeline
        description: Delete a pipeline
        parameters:
          - $ref: '#/components/parameters/ResourceID'
        security:
          - bearerAuth: []
        responses:
          '204':
            $ref: '#/components/responses/NoContent'
          '400':
            $ref: '#/components/responses/BadRequest'
          '401':
            $ref: '#/components/responses/Unauthorized'
          '404':
            $ref: '#/components/responses/NotFound'
          '422':
            $ref: '#/components/responses/UnprocessableEntity'
          '429':
            $ref: '#/components/responses/TooManyRequests'
          '500':
            $ref: '#/components/responses/InternalServerError'
    pipelines:
      get:
        x-internal: pipelines
        operationId: ListPipelines
        summary: List pipelines
        tags:
          - Pipeline
        description: List pipelines
        parameters:
          - $ref: '#/components/parameters/PipelinesFilter'
          - $ref: '#/components/parameters/PageQuery'
          - $ref: '#/components/parameters/PipelinesSort'
        security:
          - bearerAuth: []
        responses:
          '200':
            $ref: '#/components/responses/PipelineListResponse'
          '400':
            $ref: '#/components/responses/BadRequest'
          '401':
            $ref: '#/components/responses/Unauthorized'
          '422':
            $ref: '#/components/responses/UnprocessableEntity'
          '429':
            $ref: '#/components/responses/TooManyRequests'
          '500':
            $ref: '#/components/responses/InternalServerError'
      post:
        x-internal: pipelines
        operationId: CreatePipeline
        summary: Create a pipeline
        tags:
          - Pipeline
        description: Create a pipeline
        requestBody:
          description: Pipeline creation request
          content:
            application/json:
              schema:
                type: object
                properties:
                  description:
                    description: The pipeline description
                    type: string
                    example: Example description text
                    minLength: 1
                    maxLength: 1000
                    pattern: ^[\w\s\-.,!?()@#+/]*$
                  name:
                    description: The pipeline name
                    type: string
                    example: Example Name
                    minLength: 1
                    maxLength: 255
                    pattern: ^[\w\s\-.,!?()@#+/]*$
          required: true
        security:
          - bearerAuth: []
        responses:
          '201':
            $ref: '#/components/responses/PipelineResponse'
          '400':
            $ref: '#/components/responses/BadRequest'
          '401':
            $ref: '#/components/responses/Unauthorized'
          '422':
            $ref: '#/components/responses/UnprocessableEntity'
          '429':
            $ref: '#/components/responses/TooManyRequests'
          '500':
            $ref: '#/components/responses/InternalServerError'
    runs_id:
      get:
        x-internal: pipelines
        operationId: GetRun
        summary: Find a run
        tags:
          - Run
        description: Find a run
        parameters:
          - $ref: '#/components/parameters/ResourceID'
        security:
          - bearerAuth: []
        responses:
          '200':
            $ref: '#/components/responses/RunResponse'
          '400':
            $ref: '#/components/responses/BadRequest'
          '401':
            $ref: '#/components/responses/Unauthorized'
          '404':
            $ref: '#/components/responses/NotFound'
          '422':
            $ref: '#/components/responses/UnprocessableEntity'
          '429':
            $ref: '#/components/responses/TooManyRequests'
          '500':
            $ref: '#/components/responses/InternalServerError'
      patch:
        x-internal: pipelines
        operationId: UpdateRun
        summary: Update a run
        tags:
          - Run
        description: Update a run
        requestBody:
          description: Run update data
          content:
            application/json:
              schema:
                type: object
                properties:
                  pipelineID:
                    description: UUID identifier
                    type: string
                    format: uuid
                    example: 550e8400-e29b-41d4-a716-446655440000
                    minLength: 36
                    maxLength: 36
        parameters:
          - $ref: '#/components/parameters/ResourceID'
        security:
          - bearerAuth: []
        responses:
          '200':
            $ref: '#/components/responses/RunResponse'
          '404':
            $ref: '#/components/responses/NotFound'
          '429':
            $ref: '#/components/responses/TooManyRequests'
          '500':
            $ref: '#/components/responses/InternalServerError'
          '400':
            $ref: '#/components/responses/BadRequest'
          '401':
            $ref: '#/components/responses/Unauthorized'
          '422':
            $ref: '#/components/responses/UnprocessableEntity'
      delete:
        x-internal: pipelines
        operationId: DeleteRun
        summary: Delete a run
        tags:
          - Run
        description: Delete a run
        parameters:
          - $ref: '#/components/parameters/ResourceID'
        security:
          - bearerAuth: []
        responses:
          '204':
            $ref: '#/components/responses/NoContent'
          '400':
            $ref: '#/components/responses/BadRequest'
          '401':
            $ref: '#/components/responses/Unauthorized'
          '404':
            $ref: '#/components/responses/NotFound'
          '422':
            $ref: '#/components/responses/UnprocessableEntity'
          '429':
            $ref: '#/components/responses/TooManyRequests'
          '500':
            $ref: '#/components/responses/InternalServerError'
    runs:
      get:
        x-internal: pipelines
        operationId: ListRuns
        summary: List runs
        tags:
          - Run
        description: List runs
        parameters:
          - $ref: '#/components/parameters/RunsFilter'
          - $ref: '#/components/parameters/PageQuery'
          - $ref: '#/components/parameters/RunsSort'
        security:
          - bearerAuth: []
        responses:
          '200':
            $ref: '#/components/responses/RunListResponse'
          '400':
            $ref: '#/components/responses/BadRequest'
          '401':
            $ref: '#/components/responses/Unauthorized'
          '422':
            $ref: '#/components/responses/UnprocessableEntity'
          '429':
            $ref: '#/components/responses/TooManyRequests'
          '500':
            $ref: '#/components/responses/InternalServerError'
      post:
        x-internal: pipelines
        operationId: CreateRun
        summary: Create a run
        tags:
          - Run
        description: Create a run
        requestBody:
          description: Run creation request
          content:
            application/json:
              schema:
                type: object
                properties:
                  pipelineID:
                    description: UUID identifier
                    type: string
                    format: uuid
                    example: 550e8400-e29b-41d4-a716-446655440000
                    minLength: 36
                    maxLength: 36
                required:
                  - pipelineID
          required: true
        security:
          - bearerAuth: []
        responses:
          '201':
            $ref: '#/components/responses/RunResponse'
          '400':
            $ref: '#/components/responses/BadRequest'
          '401':
            $ref: '#/components/responses/Unauthorized'
          '422':
            $ref: '#/components/responses/UnprocessableEntity'
          '429':
            $ref: '#/components/responses/TooManyRequests'
          '500':
            $ref: '#/components/responses/InternalServerError'
    tools_id:
      get:
        x-internal: pipelines
        operationId: GetTool
        summary: Find a tool
        tags:
          - Tool
        description: Find a tool
        parameters:
          - $ref: '#/components/parameters/ResourceID'
        security:
          - bearerAuth: []
        responses:
          '200':
            $ref: '#/components/responses/ToolResponse'
          '400':
            $ref: '#/components/responses/BadRequest'
          '401':
            $ref: '#/components/responses/Unauthorized'
          '404':
            $ref: '#/components/responses/NotFound'
          '422':
            $ref: '#/components/responses/UnprocessableEntity'
          '429':
            $ref: '#/components/responses/TooManyRequests'
          '500':
            $ref: '#/components/responses/InternalServerError'
      patch:
        x-internal: pipelines
        operationId: UpdateTool
        summary: Update a tool
        tags:
          - Tool
        description: Update a tool
        requestBody:
          description: Tool update data
          content:
            application/json:
              schema:
                type: object
                properties:
                  description:
                    description: The tool description
                    type: string
                    minLength: 1
                    example: Example description text
                    maxLength: 1000
                    pattern: ^[\w\s\-.,!?()@#+/]*$
                  name:
                    description: The name of the tool
                    type: string
                    minLength: 1
                    example: Example Name
                    maxLength: 255
                    pattern: ^[\w\s\-.,!?()@#+/]*$
        parameters:
          - $ref: '#/components/parameters/ResourceID'
        security:
          - bearerAuth: []
        responses:
          '200':
            $ref: '#/components/responses/ToolResponse'
          '404':
            $ref: '#/components/responses/NotFound'
          '429':
            $ref: '#/components/responses/TooManyRequests'
          '500':
            $ref: '#/components/responses/InternalServerError'
          '400':
            $ref: '#/components/responses/BadRequest'
          '401':
            $ref: '#/components/responses/Unauthorized'
          '422':
            $ref: '#/components/responses/UnprocessableEntity'
      delete:
        x-internal: pipelines
        operationId: DeleteTool
        summary: Delete a tool
        tags:
          - Tool
        description: Delete a tool
        parameters:
          - $ref: '#/components/parameters/ResourceID'
        security:
          - bearerAuth: []
        responses:
          '204':
            $ref: '#/components/responses/NoContent'
          '400':
            $ref: '#/components/responses/BadRequest'
          '401':
            $ref: '#/components/responses/Unauthorized'
          '404':
            $ref: '#/components/responses/NotFound'
          '422':
            $ref: '#/components/responses/UnprocessableEntity'
          '429':
            $ref: '#/components/responses/TooManyRequests'
          '500':
            $ref: '#/components/responses/InternalServerError'
    tools:
      get:
        x-internal: pipelines
        operationId: ListTools
        summary: List tools
        tags:
          - Tool
        description: List tools
        parameters:
          - $ref: '#/components/parameters/ToolsFilter'
          - $ref: '#/components/parameters/PageQuery'
          - $ref: '#/components/parameters/ToolsSort'
        security:
          - bearerAuth: []
        responses:
          '200':
            $ref: '#/components/responses/ToolListResponse'
          '400':
            $ref: '#/components/responses/BadRequest'
          '401':
            $ref: '#/components/responses/Unauthorized'
          '422':
            $ref: '#/components/responses/UnprocessableEntity'
          '429':
            $ref: '#/components/responses/TooManyRequests'
          '500':
            $ref: '#/components/responses/InternalServerError'
      post:
        x-internal: pipelines
        operationId: CreateTool
        summary: Create a tool
        tags:
          - Tool
        description: Create a tool
        requestBody:
          description: Tool creation request
          content:
            application/json:
              schema:
                type: object
                properties:
                  description:
                    description: The tool description
                    type: string
                    minLength: 1
                    maxLength: 1000
                    example: Example description text
                    pattern: ^[\w\s\-.,!?()@#+/]*$
                  name:
                    description: The name of the tool
                    type: string
                    minLength: 1
                    maxLength: 255
                    example: Example Name
                    pattern: ^[\w\s\-.,!?()@#+/]*$
                required:
                  - description
                  - name
          required: true
        security:
          - bearerAuth: []
        responses:
          '201':
            $ref: '#/components/responses/ToolResponse'
          '400':
            $ref: '#/components/responses/BadRequest'
          '401':
            $ref: '#/components/responses/Unauthorized'
          '422':
            $ref: '#/components/responses/UnprocessableEntity'
          '429':
            $ref: '#/components/responses/TooManyRequests'
          '500':
            $ref: '#/components/responses/InternalServerError'
    health:
      get:
        x-internal: server
        x-codegen-custom-handler: true
        operationId: GetHealth
        summary: Get health status
        tags:
          - Health
        description: Check the health status of the application
        responses:
          '200':
            $ref: '#/components/responses/HealthResponse'
          '400':
            $ref: '#/components/responses/BadRequest'
          '401':
            $ref: '#/components/responses/Unauthorized'
          '429':
            $ref: '#/components/responses/TooManyRequests'
          '500':
            $ref: '#/components/responses/InternalServerError'
        security:
          - {}
paths:
  /pipelines/{id}/execution-plans:
    $ref: '#/components/pathItems/pipelines_id_execution-plans'
  /pipelines/{id}/steps:
    $ref: '#/components/pathItems/pipelines_id_steps'
  /pipelines/{id}:
    $ref: '#/components/pathItems/pipelines_id'
  /pipelines:
    $ref: '#/components/pathItems/pipelines'
  /runs/{id}:
    $ref: '#/components/pathItems/runs_id'
  /runs:
    $ref: '#/components/pathItems/runs'
  /tools/{id}:
    $ref: '#/components/pathItems/tools_id'
  /tools:
    $ref: '#/components/pathItems/tools'
  /health:
    $ref: '#/components/pathItems/health'
