// Code generated by archesai. DO NOT EDIT.

package schemas

import (
	"fmt"

	"github.com/google/uuid"
)

// PipelineExecutionPlan represents a PipelineExecutionPlan
type PipelineExecutionPlan struct {

	// EstimatedDuration Estimated execution time in seconds
	EstimatedDuration *int32 `json:"estimatedDuration,omitempty" yaml:"estimatedDuration,omitempty"`

	// IsValid Whether the pipeline DAG is valid (no cycles)
	IsValid bool                              `json:"isValid" yaml:"isValid"`
	Levels  []PipelineExecutionPlanLevelsItem `json:"levels" yaml:"levels"`

	// PipelineID UUID identifier
	PipelineID uuid.UUID `json:"pipelineID" yaml:"pipelineID"`

	// TotalSteps Total number of steps in the pipeline
	TotalSteps int32 `json:"totalSteps" yaml:"totalSteps"`
}

// NewPipelineExecutionPlan creates a new immutable PipelineExecutionPlan value object.
// Value objects are immutable and validated upon creation.
func NewPipelineExecutionPlan(
	estimatedDuration *int32,
	isValid bool,
	levels []PipelineExecutionPlanLevelsItem,
	pipelineID uuid.UUID,
	totalSteps int32,
) (PipelineExecutionPlan, error) {
	// Validate required fields
	if pipelineID == uuid.Nil {
		return PipelineExecutionPlan{}, fmt.Errorf("PipelineID cannot be nil UUID")
	}
	return PipelineExecutionPlan{
		EstimatedDuration: estimatedDuration,
		IsValid:           isValid,
		Levels:            levels,
		PipelineID:        pipelineID,
		TotalSteps:        totalSteps,
	}, nil
}

// ZeroPipelineExecutionPlan returns the zero value for PipelineExecutionPlan.
// This is useful for comparisons and as a default value.
func ZeroPipelineExecutionPlan() PipelineExecutionPlan {
	return PipelineExecutionPlan{}
}
