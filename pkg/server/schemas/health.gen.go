// Code generated by archesai. DO NOT EDIT.

package schemas

import (
	"fmt"
	"strings"
	"time"
)

// HealthServices represents a nested type for Health
type HealthServices struct {
	Database HealthServicesDatabase `json:"database" yaml:"database"`
	Email    HealthServicesEmail    `json:"email" yaml:"email"`
	Redis    HealthServicesRedis    `json:"redis" yaml:"redis"`
}

// HealthServicesDatabase represents the enumeration of valid values for Database
type HealthServicesDatabase string

// Valid Database values
const (
	HealthServicesDatabaseHealthy   HealthServicesDatabase = "healthy"
	HealthServicesDatabaseUnhealthy HealthServicesDatabase = "unhealthy"
	HealthServicesDatabaseDegraded  HealthServicesDatabase = "degraded"
)

// String returns the string representation
func (e HealthServicesDatabase) String() string {
	return string(e)
}

// IsValid checks if the value is valid
func (e HealthServicesDatabase) IsValid() bool {
	switch e {
	case HealthServicesDatabaseHealthy:
		return true
	case HealthServicesDatabaseUnhealthy:
		return true
	case HealthServicesDatabaseDegraded:
		return true
	default:
		return false
	}
}

// ParseHealthServicesDatabase parses a string into the enum type
func ParseHealthServicesDatabase(s string) (HealthServicesDatabase, error) {
	v := HealthServicesDatabase(s)
	if !v.IsValid() {
		return "", fmt.Errorf("invalid Database: %s", s)
	}
	return v, nil
}

// HealthServicesEmail represents the enumeration of valid values for Email
type HealthServicesEmail string

// Valid Email values
const (
	HealthServicesEmailHealthy   HealthServicesEmail = "healthy"
	HealthServicesEmailUnhealthy HealthServicesEmail = "unhealthy"
	HealthServicesEmailDegraded  HealthServicesEmail = "degraded"
)

// String returns the string representation
func (e HealthServicesEmail) String() string {
	return string(e)
}

// IsValid checks if the value is valid
func (e HealthServicesEmail) IsValid() bool {
	switch e {
	case HealthServicesEmailHealthy:
		return true
	case HealthServicesEmailUnhealthy:
		return true
	case HealthServicesEmailDegraded:
		return true
	default:
		return false
	}
}

// ParseHealthServicesEmail parses a string into the enum type
func ParseHealthServicesEmail(s string) (HealthServicesEmail, error) {
	v := HealthServicesEmail(s)
	if !v.IsValid() {
		return "", fmt.Errorf("invalid Email: %s", s)
	}
	return v, nil
}

// HealthServicesRedis represents the enumeration of valid values for Redis
type HealthServicesRedis string

// Valid Redis values
const (
	HealthServicesRedisHealthy   HealthServicesRedis = "healthy"
	HealthServicesRedisUnhealthy HealthServicesRedis = "unhealthy"
	HealthServicesRedisDegraded  HealthServicesRedis = "degraded"
)

// String returns the string representation
func (e HealthServicesRedis) String() string {
	return string(e)
}

// IsValid checks if the value is valid
func (e HealthServicesRedis) IsValid() bool {
	switch e {
	case HealthServicesRedisHealthy:
		return true
	case HealthServicesRedisUnhealthy:
		return true
	case HealthServicesRedisDegraded:
		return true
	default:
		return false
	}
}

// ParseHealthServicesRedis parses a string into the enum type
func ParseHealthServicesRedis(s string) (HealthServicesRedis, error) {
	v := HealthServicesRedis(s)
	if !v.IsValid() {
		return "", fmt.Errorf("invalid Redis: %s", s)
	}
	return v, nil
}

// Health represents Health check response
type Health struct {
	Services  HealthServices `json:"services" yaml:"services"`
	Timestamp time.Time      `json:"timestamp" yaml:"timestamp"`

	// Uptime System uptime in seconds
	Uptime int64 `json:"uptime" yaml:"uptime"`
}

// NewHealth creates a new immutable Health value object.
// Value objects are immutable and validated upon creation.
func NewHealth(
	services HealthServices,
	timestamp time.Time,
	uptime int64,
) (Health, error) {
	// Validate required fields
	return Health{
		Services:  services,
		Timestamp: timestamp,
		Uptime:    uptime,
	}, nil
}

// ZeroHealth returns the zero value for Health.
// This is useful for comparisons and as a default value.
func ZeroHealth() Health {
	return Health{}
}

// GetServices returns the Services value.
// Value objects are immutable, so this returns a copy of the value.
func (v Health) GetServices() HealthServices {
	return v.Services
}

// GetTimestamp returns the Timestamp value.
// Value objects are immutable, so this returns a copy of the value.
func (v Health) GetTimestamp() time.Time {
	return v.Timestamp
}

// GetUptime returns the Uptime value.
// Value objects are immutable, so this returns a copy of the value.
func (v Health) GetUptime() int64 {
	return v.Uptime
}

// Validate validates the Health value object.
// Returns an error if any field fails validation.
func (v Health) Validate() error {
	return nil
}

// IsZero returns true if this is the zero value.
func (v Health) IsZero() bool {
	zero := ZeroHealth()
	// Compare using string representation as a simple equality check
	return v.String() == zero.String()
}

// String returns a string representation of Health
func (v Health) String() string {
	var fields []string
	fields = append(fields, fmt.Sprintf("Services: %v", v.Services))
	fields = append(fields, fmt.Sprintf("Timestamp: %v", v.Timestamp))
	fields = append(fields, fmt.Sprintf("Uptime: %v", v.Uptime))
	return fmt.Sprintf("Health{%s}", strings.Join(fields, ", "))
}
