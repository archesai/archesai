// Code generated by archesai. DO NOT EDIT.

package schemas

import (
	"fmt"
	"strings"
)

// ConfigImagePullPolicy represents the enumeration of valid values for PullPolicy
type ConfigImagePullPolicy string

// Valid PullPolicy values
const (
	ConfigImagePullPolicyAlways       ConfigImagePullPolicy = "Always"
	ConfigImagePullPolicyIfNotPresent ConfigImagePullPolicy = "IfNotPresent"
	ConfigImagePullPolicyNever        ConfigImagePullPolicy = "Never"
)

// String returns the string representation
func (e ConfigImagePullPolicy) String() string {
	return string(e)
}

// IsValid checks if the value is valid
func (e ConfigImagePullPolicy) IsValid() bool {
	switch e {
	case ConfigImagePullPolicyAlways:
		return true
	case ConfigImagePullPolicyIfNotPresent:
		return true
	case ConfigImagePullPolicyNever:
		return true
	default:
		return false
	}
}

// ParseConfigImagePullPolicy parses a string into the enum type
func ParseConfigImagePullPolicy(s string) (ConfigImagePullPolicy, error) {
	v := ConfigImagePullPolicy(s)
	if !v.IsValid() {
		return "", fmt.Errorf("invalid PullPolicy: %s", s)
	}
	return v, nil
}

// ConfigImage represents Container image configuration
type ConfigImage struct {

	// PullPolicy Kubernetes image pull policy
	PullPolicy ConfigImagePullPolicy `json:"pullPolicy" yaml:"pullPolicy"`

	// Repository Container image repository
	Repository *string `json:"repository,omitempty" yaml:"repository,omitempty"`

	// Tag Container image tag
	Tag string `json:"tag" yaml:"tag"`
}

// NewConfigImage creates a new immutable ConfigImage value object.
// Value objects are immutable and validated upon creation.
func NewConfigImage(
	pullPolicy ConfigImagePullPolicy,
	repository *string,
	tag string,
) (ConfigImage, error) {
	// Validate required fields
	if !pullPolicy.IsValid() {
		return ConfigImage{}, fmt.Errorf("invalid PullPolicy: %s", pullPolicy)
	}
	if tag == "" {
		return ConfigImage{}, fmt.Errorf("Tag cannot be empty")
	}
	return ConfigImage{
		PullPolicy: pullPolicy,
		Repository: repository,
		Tag:        tag,
	}, nil
}

// ZeroConfigImage returns the zero value for ConfigImage.
// This is useful for comparisons and as a default value.
func ZeroConfigImage() ConfigImage {
	return ConfigImage{}
}

// GetPullPolicy returns the PullPolicy value.
// Value objects are immutable, so this returns a copy of the value.
func (v ConfigImage) GetPullPolicy() ConfigImagePullPolicy {
	return v.PullPolicy
}

// GetRepository returns the Repository value.
// Value objects are immutable, so this returns a copy of the value.
func (v ConfigImage) GetRepository() *string {
	return v.Repository
}

// GetTag returns the Tag value.
// Value objects are immutable, so this returns a copy of the value.
func (v ConfigImage) GetTag() string {
	return v.Tag
}

// Validate validates the ConfigImage value object.
// Returns an error if any field fails validation.
func (v ConfigImage) Validate() error {
	if !v.PullPolicy.IsValid() {
		return fmt.Errorf("invalid PullPolicy: %s", v.PullPolicy)
	}
	return nil
}

// IsZero returns true if this is the zero value.
func (v ConfigImage) IsZero() bool {
	zero := ZeroConfigImage()
	// Compare using string representation as a simple equality check
	return v.String() == zero.String()
}

// String returns a string representation of ConfigImage
func (v ConfigImage) String() string {
	var fields []string
	fields = append(fields, fmt.Sprintf("PullPolicy: %v", v.PullPolicy))
	fields = append(fields, fmt.Sprintf("Repository: %v", v.Repository))
	fields = append(fields, fmt.Sprintf("Tag: %v", v.Tag))
	return fmt.Sprintf("ConfigImage{%s}", strings.Join(fields, ", "))
}
