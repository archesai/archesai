// Code generated by codegen adapters. DO NOT EDIT.
package adapters

import ({{range .Imports}}
	{{.}}{{end}}
)

{{if .NeedsHelpers}}
// Helper functions
{{if .NeedsNullableString}}
func handleNullableString(s *string) string {
	if s == nil {
		return ""
	}
	return *s
}
{{end}}
{{if .NeedsNullableTime}}
func handleNullableTime(t *time.Time) string {
	if t == nil {
		return ""
	}
	return t.Format(time.RFC3339)
}
{{end}}
{{if .NeedsNullableTimestamp}}
func handleNullableTimestamp(ts pgtype.Timestamptz) time.Time {
	if !ts.Valid {
		return time.Time{}
	}
	return ts.Time
}
{{end}}
{{if .NeedsNullableJSON}}
func handleNullableJSON(j *string) *json.RawMessage {
	if j == nil {
		return nil
	}
	raw := json.RawMessage(*j)
	return &raw
}
{{end}}
{{if .NeedsNullableMetadata}}
func handleNullableMetadata(j *string) map[string]interface{} {
	if j == nil {
		return nil
	}
	var metadata map[string]interface{}
	if err := json.Unmarshal([]byte(*j), &metadata); err != nil {
		return nil
	}
	return metadata
}
{{end}}
{{end}}

{{range .Adapters}}
// {{.Name}} converts {{.From}} to {{.To}}
func {{.Name}}(from *{{.FromType}}) {{.ToType}} {
	return {{.ToPrefix}}{{.ToVar}}{
		{{- range .Fields}}
		{{.ToField}}: {{.Conversion}},
		{{- end}}
	}
}
{{end}}