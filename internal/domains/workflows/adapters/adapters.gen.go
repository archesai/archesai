// Code generated by codegen converters. DO NOT EDIT.
package adapters

import (
	"github.com/archesai/archesai/internal/domains/workflows/generated/api"
	"github.com/archesai/archesai/internal/infrastructure/database/generated/postgresql"
	"github.com/google/uuid"
)

// Helper functions

func handleNullableString(s *string) string {
	if s == nil {
		return ""
	}
	return *s
}

// PipelineDBToAPI converts postgresql.Pipeline to api.PipelineEntity
func PipelineDBToAPI(from *postgresql.Pipeline) api.PipelineEntity {
	return api.PipelineEntity{
		Id:             uuid.MustParse(from.Id),
		OrganizationId: uuid.MustParse(from.OrganizationId),
	}
}

// RunDBToAPI converts postgresql.Run to api.RunEntity
func RunDBToAPI(from *postgresql.Run) api.RunEntity {
	return api.RunEntity{
		Id:             uuid.MustParse(from.Id),
		OrganizationId: from.OrganizationId,
		PipelineId:     handleNullableString(from.PipelineId),
		Progress:       float32(from.Progress),
		Status:         api.RunEntityStatus(from.Status),
		ToolId:         from.ToolId,
	}
}

// ToolDBToAPI converts postgresql.Tool to api.ToolEntity
func ToolDBToAPI(from *postgresql.Tool) api.ToolEntity {
	return api.ToolEntity{
		Description:    from.Description,
		Id:             uuid.MustParse(from.Id),
		Name:           from.Name,
		OrganizationId: from.OrganizationId,
	}
}
