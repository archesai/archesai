# Schema with x-codegen extension
title: UserEntity
x-codegen-schema-type: entity
x-codegen:
  repository:
    operations: [create, read, update, delete, list]
    indices: [email, username]
    additionalMethods:
      - name: GetByEmail
        params:
          - name: email
            type: string
        returns: single
      - name: GetByUsername
        params:
          - name: username
            type: string
        returns: single
      - name: ListActive
        params: []
        returns: multiple
    tableName: users
type: object
properties:
  id:
    type: string
    format: uuid
  username:
    type: string
    minLength: 3
    maxLength: 50
    pattern: '^[a-zA-Z0-9_]+$'
  email:
    type: string
    format: email
  isActive:
    type: boolean
    default: false
  role:
    type: string
    enum: [admin, moderator, user]
    default: user
required:
  - id
  - username
  - email
